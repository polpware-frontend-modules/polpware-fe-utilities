/*
BasicTypes :=
    boolean
  | number
  | string
  | date
  | symbol
  | null
  | undefined
  | array
  | object
  | function
*/
export function isBoolean(x) {
    return typeof x === 'boolean';
}
export function isNumber(x) {
    return typeof x === 'number';
}
export function isString(x) {
    return typeof x === 'string';
}
export function isDate(x) {
    return Object.prototype.toString.call(x) === '[object Date]';
}
export function isSymbol(x) {
    return typeof x === 'symbol';
}
export function isNull(x) {
    return x === null;
}
export function isUndefined(x) {
    return x === undefined;
}
export function isArray(x) {
    return x instanceof Array;
}
export function isObject(x) {
    return typeof x === 'object';
}
export function isFunction(x) {
    return typeof x === 'function';
}
;
export const tyBool = { name: 'Boolean', val: false, pred: isBoolean };
export const tyNull = { name: 'Null', val: null, pred: isNull };
export const tyUndefined = { name: 'Undefined', val: undefined, pred: isUndefined };
export const tyNumber = { name: 'Number', val: 0, pred: isNumber };
export const tyString = { name: 'String', val: '', pred: isString };
export const tyDate = { name: 'Object', val: function () { return Date.now(); }, pred: isDate };
export const tySymbol = { name: 'Symbol', val: null, pred: isSymbol };
export const tyObject = { name: 'Object', val: function () { return {}; }, pred: isObject };
export const tyArray = { name: 'Array', val: function () { return []; }, pred: isArray };
export const tyFunction = { name: 'Function', val: function () { }, pred: isFunction };
/**
 *  Predefined types and their properties.
 */
const preDefinedTypes = {
    tyBool: tyBool,
    tyNull: tyNull,
    tyUndefined: tyUndefined,
    tyNumber: tyNumber,
    tyString: tyString,
    tyDate: tyDate,
    tySymbol: tySymbol,
    tyObject: tyObject,
    tyArray: tyArray,
    tyFunction: tyFunction
};
/**
 * Returns the default value for a given type.
 */
export function defaultValue(ty) {
    let val = ty.val;
    if (ty !== tyFunction && typeof val === 'function') {
        val = val();
    }
    return val;
}
/**
 * Type checks if a given value is type of the given ty
 */
export function ok(value, ty) {
    return ty.pred(value);
}
/**
 * Returns the type for the given value.
 */
export function getType(value) {
    for (let prop in preDefinedTypes) {
        if (ok(value, preDefinedTypes[prop])) {
            return preDefinedTypes[prop];
        }
    }
    return null;
}
export function assert(value, ty) {
    if (ok(value, ty)) {
        return;
    }
    throw new Error('type check error: exptected type is ' +
        ty + ' but given type is ' + typeof value);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZS1jaGVja2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2xpYi9zcmMvdHlwaW5nL3R5cGUtY2hlY2tlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7O0VBWUU7QUFHRixNQUFNLFVBQVUsU0FBUyxDQUFDLENBQU07SUFDNUIsT0FBTyxPQUFPLENBQUMsS0FBSyxTQUFTLENBQUM7QUFDbEMsQ0FBQztBQUVELE1BQU0sVUFBVSxRQUFRLENBQUMsQ0FBTTtJQUMzQixPQUFPLE9BQU8sQ0FBQyxLQUFLLFFBQVEsQ0FBQztBQUNqQyxDQUFDO0FBRUQsTUFBTSxVQUFVLFFBQVEsQ0FBQyxDQUFNO0lBQzNCLE9BQU8sT0FBTyxDQUFDLEtBQUssUUFBUSxDQUFDO0FBQ2pDLENBQUM7QUFFRCxNQUFNLFVBQVUsTUFBTSxDQUFDLENBQU07SUFDekIsT0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssZUFBZSxDQUFDO0FBQ2pFLENBQUM7QUFFRCxNQUFNLFVBQVUsUUFBUSxDQUFDLENBQU07SUFDM0IsT0FBTyxPQUFPLENBQUMsS0FBSyxRQUFRLENBQUM7QUFDakMsQ0FBQztBQUVELE1BQU0sVUFBVSxNQUFNLENBQUMsQ0FBTTtJQUN6QixPQUFPLENBQUMsS0FBSyxJQUFJLENBQUM7QUFDdEIsQ0FBQztBQUVELE1BQU0sVUFBVSxXQUFXLENBQUMsQ0FBTTtJQUM5QixPQUFPLENBQUMsS0FBSyxTQUFTLENBQUM7QUFDM0IsQ0FBQztBQUVELE1BQU0sVUFBVSxPQUFPLENBQUMsQ0FBTTtJQUMxQixPQUFPLENBQUMsWUFBWSxLQUFLLENBQUM7QUFDOUIsQ0FBQztBQUVELE1BQU0sVUFBVSxRQUFRLENBQUMsQ0FBTTtJQUMzQixPQUFPLE9BQU8sQ0FBQyxLQUFLLFFBQVEsQ0FBQztBQUNqQyxDQUFDO0FBRUQsTUFBTSxVQUFVLFVBQVUs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LGVBQWUsRUFBRTtRQUM5QixJQUFJLEVBQUUsQ0FBQyxLQUFLLEVBQUUsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUU7WUFDbEMsT0FBTyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDaEM7S0FDSjtJQUNELE9BQU8sSUFBSSxDQUFDO0FBQ2hCLENBQUM7QUFFRCxNQUFNLFVBQVUsTUFBTSxDQUFDLEtBQVUsRUFBRSxFQUFZO0lBQzNDLElBQUksRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsRUFBRTtRQUNmLE9BQU87S0FDVjtJQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsc0NBQXNDO1FBQ2xELEVBQUUsR0FBRyxxQkFBcUIsR0FBRyxPQUFPLEtBQUssQ0FBQyxDQUFDO0FBQ25ELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG5CYXNpY1R5cGVzIDo9IFxyXG4gICAgYm9vbGVhbiBcclxuICB8IG51bWJlciBcclxuICB8IHN0cmluZyBcclxuICB8IGRhdGVcclxuICB8IHN5bWJvbFxyXG4gIHwgbnVsbFxyXG4gIHwgdW5kZWZpbmVkXHJcbiAgfCBhcnJheSBcclxuICB8IG9iamVjdFxyXG4gIHwgZnVuY3Rpb25cclxuKi9cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNCb29sZWFuKHg6IGFueSk6IHggaXMgYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHggPT09ICdib29sZWFuJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyKHg6IGFueSk6IHggaXMgbnVtYmVyIHtcclxuICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ251bWJlcic7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyh4OiBhbnkpOiB4IGlzIHN0cmluZyB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHggPT09ICdzdHJpbmcnO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNEYXRlKHg6IGFueSk6IHggaXMgT2JqZWN0IHtcclxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IERhdGVdJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzU3ltYm9sKHg6IGFueSk6IHggaXMgc3ltYm9sIHtcclxuICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ3N5bWJvbCc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc051bGwoeDogYW55KTogeCBpcyBudWxsIHtcclxuICAgIHJldHVybiB4ID09PSBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWQoeDogYW55KTogeCBpcyB1bmRlZmluZWQge1xyXG4gICAgcmV0dXJuIHggPT09IHVuZGVmaW5lZDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXkoeDogYW55KTogeCBpcyBBcnJheTxhbnk+IHtcclxuICAgIHJldHVybiB4IGluc3RhbmNlb2YgQXJyYXk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh4OiBhbnkpOiB4IGlzIE9iamVjdCB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHggPT09ICdvYmplY3QnO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih4OiBhbnkpOiB4IGlzIEZ1bmN0aW9uIHtcclxuICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJVHlwZURlZiB7XHJcbiAgICBuYW1lOiBzdHJpbmcsXHJcbiAgICB2YWw6IGFueSxcclxuICAgIHByZWQ6IChhbnkpID0+IGJvb2xlYW5cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB0eUJvb2w6IElUeXBlRGVmID0geyBuYW1lOiAnQm9vbGVhbicsIHZhbDogZmFsc2UsIHByZWQ6IGlzQm9vbGVhbiB9O1xyXG5leHBvcnQgY29uc3QgdHlOdWxsOiBJVHlwZURlZiA9IHsgbmFtZTogJ051bGwnLCB2YWw6IG51bGwsIHByZWQ6IGlzTnVsbCB9O1xyXG5leHBvcnQgY29uc3QgdHlVbmRlZmluZWQ6IElUeXBlRGVmID0geyBuYW1lOiAnVW5kZWZpbmVkJywgdmFsOiB1bmRlZmluZWQsIHByZWQ6IGlzVW5kZWZpbmVkIH07XHJcbmV4cG9ydCBjb25zdCB0eU51bWJlcjogSVR5cGVEZWYgPSB7IG5hbWU6ICdOdW1iZXInLCB2YWw6IDAsIHByZWQ6IGlzTnVtYmVyIH07XHJcbmV4cG9ydCBjb25zdCB0eVN0cmluZzogSVR5cGVEZWYgPSB7IG5hbWU6ICdTdHJpbmcnLCB2YWw6ICcnLCBwcmVkOiBpc1N0cmluZyB9O1xyXG5leHBvcnQgY29uc3QgdHlEYXRlOiBJVHlwZURlZiA9IHsgbmFtZTogJ09iamVjdCcsIHZhbDogZnVuY3Rpb24oKSB7IHJldHVybiBEYXRlLm5vdygpOyB9LCBwcmVkOiBpc0RhdGUgfTtcclxuZXhwb3J0IGNvbnN0IHR5U3ltYm9sOiBJVHlwZURlZiA9IHsgbmFtZTogJ1N5bWJvbCcsIHZhbDogbnVsbCwgcHJlZDogaXNTeW1ib2wgfTtcclxuZXhwb3J0IGNvbnN0IHR5T2JqZWN0OiBJVHlwZURlZiA9IHsgbmFtZTogJ09iamVjdCcsIHZhbDogZnVuY3Rpb24oKSB7IHJldHVybiB7fTsgfSwgcHJlZDogaXNPYmplY3QgfTtcclxuZXhwb3J0IGNvbnN0IHR5QXJyYXk6IElUeXBlRGVmID0geyBuYW1lOiAnQXJyYXknLCB2YWw6IGZ1bmN0aW9uKCkgeyByZXR1cm4gW107IH0sIHByZWQ6IGlzQXJyYXkgfTtcclxuZXhwb3J0IGNvbnN0IHR5RnVuY3Rpb246IElUeXBlRGVmID0geyBuYW1lOiAnRnVuY3Rpb24nLCB2YWw6IGZ1bmN0aW9uKCkgeyB9LCBwcmVkOiBpc0Z1bmN0aW9uIH07XHJcblxyXG4vKipcclxuICogIFByZWRlZmluZWQgdHlwZXMgYW5kIHRoZWlyIHByb3BlcnRpZXMuXHJcbiAqL1xyXG5jb25zdCBwcmVEZWZpbmVkVHlwZXM6IHsgW2tleTogc3RyaW5nXTogSVR5cGVEZWYgfSA9IHtcclxuICAgIHR5Qm9vbDogdHlCb29sLFxyXG4gICAgdHlOdWxsOiB0eU51bGwsXHJcbiAgICB0eVVuZGVmaW5lZDogdHlVbmRlZmluZWQsXHJcbiAgICB0eU51bWJlcjogdHlOdW1iZXIsXHJcbiAgICB0eVN0cmluZzogdHlTdHJpbmcsXHJcbiAgICB0eURhdGU6IHR5RGF0ZSxcclxuICAgIHR5U3ltYm9sOiB0eVN5bWJvbCxcclxuICAgIHR5T2JqZWN0OiB0eU9iamVjdCxcclxuICAgIHR5QXJyYXk6IHR5QXJyYXksXHJcbiAgICB0eUZ1bmN0aW9uOiB0eUZ1bmN0aW9uXHJcbn07XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlIGZvciBhIGdpdmVuIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFZhbHVlKHR5OiBJVHlwZURlZik6IGFueSB7XHJcbiAgICBsZXQgdmFsID0gdHkudmFsO1xyXG4gICAgaWYgKHR5ICE9PSB0eUZ1bmN0aW9uICYmIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICB2YWwgPSB2YWwoKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUeXBlIGNoZWNrcyBpZiBhIGdpdmVuIHZhbHVlIGlzIHR5cGUgb2YgdGhlIGdpdmVuIHR5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gb2sodmFsdWU6IGFueSwgdHk6IElUeXBlRGVmKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdHkucHJlZCh2YWx1ZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSB0eXBlIGZvciB0aGUgZ2l2ZW4gdmFsdWUuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHlwZSh2YWx1ZTogYW55KTogSVR5cGVEZWYge1xyXG4gICAgZm9yIChsZXQgcHJvcCBpbiBwcmVEZWZpbmVkVHlwZXMpIHtcclxuICAgICAgICBpZiAob2sodmFsdWUsIHByZURlZmluZWRUeXBlc1twcm9wXSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHByZURlZmluZWRUeXBlc1twcm9wXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydCh2YWx1ZTogYW55LCB0eTogSVR5cGVEZWYpOiB2b2lkIHtcclxuICAgIGlmIChvayh2YWx1ZSwgdHkpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCd0eXBlIGNoZWNrIGVycm9yOiBleHB0ZWN0ZWQgdHlwZSBpcyAnICtcclxuICAgICAgICB0eSArICcgYnV0IGdpdmVuIHR5cGUgaXMgJyArIHR5cGVvZiB2YWx1ZSk7XHJcbn1cclxuIl19